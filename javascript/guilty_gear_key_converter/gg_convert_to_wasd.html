<html>
    <head>
        <script src="https://unpkg.com/react@16.7.0/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>    
        <style>
            #output {
                font-family: monospace;
            }
        </style>
        <script type="application/javascript">
// Guilty Gear:Strive convert weird "conventional" control notation to Default WASD Keyboard
// Because I'm too lazy to use numpad or mentally convert :3

/*
7 8 9 
4 5 6
1 2 3
*/

const UP="W";
const LEFT="A";
const DOWN="S";
const RIGHT="D";

const PUNCH="U";
const KICK="J";
const SLASH="I";
const HEAVYSLASH="K";

const DUST="O";

const DASH="Q";
const ROMANCANCEL="E"; //custom, added by me
const PSYCHBURST="R"; //custom, added by me

const keymap = {
    "1": LEFT+DOWN,
    "2":DOWN,
    "3":RIGHT+DOWN,

    "4": LEFT,
    "5":"",
    "6":RIGHT,

    "7": LEFT+UP,
    "8":UP,
    "9":RIGHT+UP,

    "P":PUNCH,
    "K":KICK,
    "S":SLASH,
    "H":HEAVYSLASH,
    "D":DUST,

};

function convert_combostring(combostring){
ret="";

console.log(combostring);



for(let char of combostring) {
    if (char in keymap){
        let converted=keymap[char];

        if(converted != ""){ //not empty, i.e. "5" (neutral position)
            ret+="["+converted+"]";
        }
    }
    else {
        console.log("Not converting '"+char+"' as it is not in keymap...");
        ret+=char;
    }
}

    return ret;

}
        </script>
    </head>
    <body>
        <div id="my-react-app"></div>
        <script type="text/babel">

            function asdf(){
                let e = document.getElementById('outputString');
                let converted = convert_combostring(document.getElementById('inputString').value)
                console.log(converted);

                document.getElementById('output').innerText=converted;

            }
        
            const elts = [
                <div>
                    <div>
                    <h2>Input combo string to convert</h2>
                    <button onClick={asdf}>convert</button>
                    <input id="inputString" defaultValue="5K > 6S > 236K"/>
                </div>
                
                <div id="outputDiv"></div>
                    <h2>output</h2>
                    <p id="output" />
                </div>
                ];
    
            ReactDOM.render(elts, document.getElementById("my-react-app"));
        </script>
    
    </body>
</html>